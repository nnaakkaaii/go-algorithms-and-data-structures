# クイックソート

クイックソートはマージソートと同様に分割統治法に基づくアルゴリズムであるが、分割してパーティションを行った時に既に元の配列内でソートが完了する。

クイックソートは、partitionの内部で離れた要素を交換するのでstableではない

マージソートは`O(n)`の外部メモリを必要とするのに対し、クイックソートは追加のメモリ領域を必要としないinplaceソートである。

1. 適当な数（ピボット）を選択する（データの総数の中央値など）
1. ピボットより小さい数を前方、大きい数を後方に移動させる （分割） 
1. 二分割された各々のデータを、それぞれソートする

![挿入ソート](https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F44288%2Fc3d2a2c3-2c79-0a1e-d753-e73346406be3.gif?ixlib=rb-4.0.0&auto=format&gif-q=60&q=75&w=1400&fit=max&s=47721c8f91d96e07a5dee6f92d76305f)

## 特徴
- stableでないソート
- 平均計算時間`O(nlogn)`・最悪計算時間は `O(n^2)`
- 最も高速なソート

## 手順
初期データ: 8 4 3 7 6 5 2 1

- 中央付近に位置する7をピボットとする。左から7以上を探索して8を発見。右から7未満を探索して1を発見。前者が左にあるため入れ替え。
    - 1 4 3 7 6 5 2 8
- 次の位置から探索を継続。7と2を発見して入れ替え。
    - 1 4 3 2 6 5 7 8
- 次の位置から探索を継続。7と5を発見。前者が右にあるため探索終了。左からの探索で最後に発見した位置（7の位置）の左で分割。
    - 1 4 3 2 6 5 | 7 8
- 「1 4 3 2 6 5」の領域で2をピボットとして探索。左からの探索で4、右からの探索で2を発見、前者が左にあるため入れ替え。
    - 1 2 3 4 6 5 | 7 8
- 次の位置から探索を継続。3と2を発見。前者が右にあるため探索終了。3の左で分割。
    - 1 2 | 3 4 6 5 | 7 8
- 「1 2」の領域を2をピボットとして探索、双方とも2を発見、同じ位置であるため探索終了。2の左で分割。「1」「2」の領域は確定。
    - 1 | 2 | 3 4 6 5 | 7 8
- 「3 4 6 5」の領域を6をピボットとして探索。6と5を発見、前者が左にあるため入れ替え。
    - 1 | 2 | 3 4 5 6 | 7 8
- 次の位置から探索を継続。6と5を発見するが前者が右にあるため探索終了。6の左で分割。「6」は確定。
    - 1 | 2 | 3 4 5 | 6 | 7 8
- 「3 4 5」の領域を4をピボットとして探索。双方4を発見して終了するため4の左で分割。「3」は確定。
    - 1 | 2 | 3 | 4 5 | 6 | 7 8
- 「4 5」の領域を5をピボットとして探索。双方5を発見して終了するため5の左で分割。「4」「5」は確定。 
    - 1 | 2 | 3 | 4 | 5 | 6 | 7 8
- 「7 8」の領域を8をピボットとして探索。双方8を発見して終了するため8の左で分割。すべて確定。
    - 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8